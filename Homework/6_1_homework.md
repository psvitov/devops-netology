# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Задача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.
Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
- Электронные чеки в json виде
- Склады и автомобильные дороги для логистической компании
- Генеалогические деревья
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
- Отношения клиент-покупка для интернет-магазина
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Ответ:
- Электронные чеки в json виде - Документно-ориентированная модель управления БД
- Склады и автомобильные дороги для логистической компании - Реляционная СУБД
- Генеалогические деревья - Иерархическая модель управления БД
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - БД на основе пар "ключ-значение"
- Отношения клиент-покупка для интернет-магазина - Column-oriented БД

## Задача 2
Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):
- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
- Система может не прислать корректный ответ или сбросить соединение
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

### Ответ:
Согласно CAP-теореме:
- Данные записываются на все узлы с задержкой до часа (асинхронная запись) - CA (имеется согласованность и доступность)
- При сетевых сбоях, система может разделиться на 2 раздельных кластера - AP (имеется доступность и устойчивость к разделению)
- Система может не прислать корректный ответ или сбросить соединение - CP (имеется согласованность и устойчивость к разделению)

Согласно PACELC-теореме:
- Данные записываются на все узлы с задержкой до часа (асинхронная запись) - EC
- При сетевых сбоях, система может разделиться на 2 раздельных кластера - PA
- Система может не прислать корректный ответ или сбросить соединение - EL

## Задача 3
Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

### Ответ:
Не могут. Например, принцип ACID "D" - противоречит принципу BASE "BA", то есть данные в ACID всегда полные и согласованные, когда в BASE - могут быть неверные данные.  

## Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:
- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута
Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

### Ответ:

Выбор - Redis.

Плюсы: высокая скорость, так как данные хранятся в оперативной памяти, встроенная система Pub/Sub, поддержка репликации.<p>
Минусы: для большого объема данных необходим обльшой объем оперативной памяти, при отказе серевера, несохраненные данные из оперативной памяти уничтожатся безвозвратно.
